okta_app_assigned_group
=======================

> select * from okta_app_assigned_group
+----------------------+----------------------+---------------------------+----------+----------------------------------------------------------------------------------------------------------------------
| id                   | app_id               | last_updated              | priority | links                                                                                                                
+----------------------+----------------------+---------------------------+----------+----------------------------------------------------------------------------------------------------------------------
| 00g1kchdmqwsZEGG65d7 | 0oa1mf9l3dw26foa25d7 | 2022-01-24T11:16:25+05:30 | 3        | {"app":{"href":"https://dev-21314997.okta.com/api/v1/apps/0oa1mf9l3dw26foa25d7"},"group":{"href":"https://dev-2131499
| 00g33kzj6xOZvlBUQ5d7 | 0oa1mf9l3dw26foa25d7 | 2022-01-24T11:16:23+05:30 | 2        | {"app":{"href":"https://dev-21314997.okta.com/api/v1/apps/0oa1mf9l3dw26foa25d7"},"group":{"href":"https://dev-2131499
+----------------------+----------------------+---------------------------+----------+----------------------------------------------------------------------------------------------------------------------
> select * from okta_app_assigned_group limit 1
+----------------------+----------------------+---------------------------+----------+----------------------------------------------------------------------------------------------------------------------
| id                   | app_id               | last_updated              | priority | links                                                                                                                
+----------------------+----------------------+---------------------------+----------+----------------------------------------------------------------------------------------------------------------------
| 00g1kchdmqwsZEGG65d7 | 0oa1mf9l3dw26foa25d7 | 2022-01-24T11:16:25+05:30 | 3        | {"app":{"href":"https://dev-21314997.okta.com/api/v1/apps/0oa1mf9l3dw26foa25d7"},"group":{"href":"https://dev-2131499
+----------------------+----------------------+---------------------------+----------+----------------------------------------------------------------------------------------------------------------------
> select * from okta_app_assigned_group where app_id = '0oa1mf9l3dw26foa25d7'
+----------------------+----------------------+---------------------------+----------+----------------------------------------------------------------------------------------------------------------------
| id                   | app_id               | last_updated              | priority | links                                                                                                                
+----------------------+----------------------+---------------------------+----------+----------------------------------------------------------------------------------------------------------------------
| 00g1kchdmqwsZEGG65d7 | 0oa1mf9l3dw26foa25d7 | 2022-01-24T11:16:25+05:30 | 3        | {"app":{"href":"https://dev-21314997.okta.com/api/v1/apps/0oa1mf9l3dw26foa25d7"},"group":{"href":"https://dev-2131499
| 00g33kzj6xOZvlBUQ5d7 | 0oa1mf9l3dw26foa25d7 | 2022-01-24T11:16:23+05:30 | 2        | {"app":{"href":"https://dev-21314997.okta.com/api/v1/apps/0oa1mf9l3dw26foa25d7"},"group":{"href":"https://dev-2131499
+----------------------+----------------------+---------------------------+----------+----------------------------------------------------------------------------------------------------------------------
> select * from okta_app_assigned_group where app_id = '0oa1mf9l3dw26foa25d7' and id = '00g33kzj6xOZvlBUQ5d7'
+----------------------+----------------------+---------------------------+----------+----------------------------------------------------------------------------------------------------------------------
| id                   | app_id               | last_updated              | priority | links                                                                                                                
+----------------------+----------------------+---------------------------+----------+----------------------------------------------------------------------------------------------------------------------
| 00g33kzj6xOZvlBUQ5d7 | 0oa1mf9l3dw26foa25d7 | 2022-01-24T11:16:23+05:30 | 2        | {"app":{"href":"https://dev-21314997.okta.com/api/v1/apps/0oa1mf9l3dw26foa25d7"},"group":{"href":"https://dev-2131499
+----------------------+----------------------+---------------------------+----------+----------------------------------------------------------------------------------------------------------------------
> select
  id as group_id,
  app_id,
  last_updated,
  priority
from
  okta_app_assigned_group;
+----------------------+----------------------+---------------------------+----------+
| group_id             | app_id               | last_updated              | priority |
+----------------------+----------------------+---------------------------+----------+
| 00g1kchdmqwsZEGG65d7 | 0oa1mf9l3dw26foa25d7 | 2022-01-24T11:16:25+05:30 | 3        |
| 00g33kzj6xOZvlBUQ5d7 | 0oa1mf9l3dw26foa25d7 | 2022-01-24T11:16:23+05:30 | 2        |
+----------------------+----------------------+---------------------------+----------+
> select
  grp.name as name,
  grp.description as description,
  jsonb_pretty(grp.group_members) as group_members
from
  okta_group grp
full outer join okta_app_assigned_group ag on grp.id = ag.id
where
  grp.id is null or ag.id is null;
+---------------+-----------------------+----------------------------------------+
| name          | description           | group_members                          |
+---------------+-----------------------+----------------------------------------+
| Another Group | This is another group | [                                      |
|               |                       |     {                                  |
|               |                       |         "id": "00u33m8oarePFyaTm5d7",  |
|               |                       |         "email": "arnabg57@gmail.com", |
|               |                       |         "login": "arnabg57@gmail.com"  |
|               |                       |     }                                  |
|               |                       | ]                                      |
+---------------+-----------------------+----------------------------------------+
> select
  app.name as app_name,
  app.id as app_id,
  app.created as app_created,
  app.status as app_status,
  ag.id as group_id,
  grp.name as group_name,
  grp.description as group_description,
  jsonb_pretty(grp.group_members) as group_members
from 
  okta_application app 
inner join okta_app_assigned_group ag on app.id = ag.app_id
inner join okta_group grp on ag.id = grp.id;
+-------------+----------------------+---------------------------+------------+----------------------+------------+--------------------------------+----------------------------------------+
| app_name    | app_id               | app_created               | app_status | group_id             | group_name | group_description              | group_members                          |
+-------------+----------------------+---------------------------+------------+----------------------+------------+--------------------------------+----------------------------------------+
| oidc_client | 0oa1mf9l3dw26foa25d7 | 2021-08-31T18:16:30+05:30 | ACTIVE     | 00g33kzj6xOZvlBUQ5d7 | TestGroup  | This is a test group           | [                                      |
|             |                      |                           |            |                      |            |                                |     {                                  |
|             |                      |                           |            |                      |            |                                |         "id": "00u33m8oarePFyaTm5d7",  |
|             |                      |                           |            |                      |            |                                |         "email": "arnabg57@gmail.com", |
|             |                      |                           |            |                      |            |                                |         "login": "arnabg57@gmail.com"  |
|             |                      |                           |            |                      |            |                                |     }                                  |
|             |                      |                           |            |                      |            |                                | ]                                      |
| oidc_client | 0oa1mf9l3dw26foa25d7 | 2021-08-31T18:16:30+05:30 | ACTIVE     | 00g1kchdmqwsZEGG65d7 | Everyone   | All users in your organization | [                                      |
|             |                      |                           |            |                      |            |                                |     {                                  |
|             |                      |                           |            |                      |            |                                |         "id": "00u1kcigdvWtR96HY5d7",  |
|             |                      |                           |            |                      |            |                                |         "email": "arnab@turbot.com",   |
|             |                      |                           |            |                      |            |                                |         "login": "arnab@turbot.com"    |
|             |                      |                           |            |                      |            |                                |     },                                 |
|             |                      |                           |            |                      |            |                                |     {                                  |
|             |                      |                           |            |                      |            |                                |         "id": "00u33m8oarePFyaTm5d7",  |
|             |                      |                           |            |                      |            |                                |         "email": "arnabg57@gmail.com", |
|             |                      |                           |            |                      |            |                                |         "login": "arnabg57@gmail.com"  |
|             |                      |                           |            |                      |            |                                |     },                                 |
|             |                      |                           |            |                      |            |                                |     {                                  |
|             |                      |                           |            |                      |            |                                |         "id": "00u3e9oo5e7hR6X815d7",  |
|             |                      |                           |            |                      |            |                                |         "email": "testUser@gmail.com", |
|             |                      |                           |            |                      |            |                                |         "login": "testUser@gmail.com"  |
|             |                      |                           |            |                      |            |                                |     }                                  |
|             |                      |                           |            |                      |            |                                | ]                                      |
+-------------+----------------------+---------------------------+------------+----------------------+------------+--------------------------------+----------------------------------------+

=====================================================================

okta_app_assigned_user
=======================

> select * from okta_app_assigned_user
+----------------------+--------------------+----------------------+---------------------------+--------+--------------------+-------------+------------+-----------+-----------+---------------------------
| id                   | user_name          | app_id               | created                   | status | email              | external_id | first_name | last_name | last_sync | last_updated              
+----------------------+--------------------+----------------------+---------------------------+--------+--------------------+-------------+------------+-----------+-----------+---------------------------
| 00u1kcigdvWtR96HY5d7 | <null>             | 0oa1kchdmerpZir9y5d7 | 2021-08-26T09:56:37+05:30 | ACTIVE | <null>             |             | <null>     | <null>    | <null>    | 2021-08-26T09:56:37+05:30 
| 00u3e9oo5e7hR6X815d7 | testUser@gmail.com | 0oa1mf9l3dw26foa25d7 | 2022-01-24T11:16:25+05:30 | ACTIVE | testUser@gmail.com |             | Test       | User      | <null>    | 2022-01-24T11:16:25+05:30 
| 00u1kcigdvWtR96HY5d7 | arnab@turbot.com   | 0oa1mf9l3dw26foa25d7 | 2021-12-10T12:43:42+05:30 | ACTIVE | arnab@turbot.com   |             | Arnab      | Ghosh     | <null>    | 2021-12-10T15:04:59+05:30 
| 00u1kcigdvWtR96HY5d7 | <null>             | 0oa1mf49z9iZurdzA5d7 | 2021-12-10T12:43:42+05:30 | ACTIVE | arnab@turbot.com   |             | Arnab      | Ghosh     | <null>    | 2021-12-10T12:43:42+05:30 
+----------------------+--------------------+----------------------+---------------------------+--------+--------------------+-------------+------------+-----------+-----------+---------------------------
> select * from okta_app_assigned_user limit 1
+----------------------+-----------+----------------------+---------------------------+--------+--------+-------------+------------+-----------+-----------+---------------------------+------------------+-
| id                   | user_name | app_id               | created                   | status | email  | external_id | first_name | last_name | last_sync | last_updated              | password_changed | 
+----------------------+-----------+----------------------+---------------------------+--------+--------+-------------+------------+-----------+-----------+---------------------------+------------------+-
| 00u1kcigdvWtR96HY5d7 | <null>    | 0oa1kchdmerpZir9y5d7 | 2021-08-26T09:56:37+05:30 | ACTIVE | <null> |             | <null>     | <null>    | <null>    | 2021-08-26T09:56:37+05:30 | <null>           | 
+----------------------+-----------+----------------------+---------------------------+--------+--------+-------------+------------+-----------+-----------+---------------------------+------------------+-
> select * from okta_app_assigned_user where app_id = '0oa1mf9l3dw26foa25d7'
+----------------------+--------------------+----------------------+---------------------------+--------+--------------------+-------------+------------+-----------+-----------+---------------------------
| id                   | user_name          | app_id               | created                   | status | email              | external_id | first_name | last_name | last_sync | last_updated              
+----------------------+--------------------+----------------------+---------------------------+--------+--------------------+-------------+------------+-----------+-----------+---------------------------
| 00u1kcigdvWtR96HY5d7 | arnab@turbot.com   | 0oa1mf9l3dw26foa25d7 | 2021-12-10T12:43:42+05:30 | ACTIVE | arnab@turbot.com   |             | Arnab      | Ghosh     | <null>    | 2021-12-10T15:04:59+05:30 
| 00u3e9oo5e7hR6X815d7 | testUser@gmail.com | 0oa1mf9l3dw26foa25d7 | 2022-01-24T11:16:25+05:30 | ACTIVE | testUser@gmail.com |             | Test       | User      | <null>    | 2022-01-24T11:16:25+05:30 
+----------------------+--------------------+----------------------+---------------------------+--------+--------------------+-------------+------------+-----------+-----------+---------------------------
> select * from okta_app_assigned_user where app_id = '0oa1mf9l3dw26foa25d7' and id = '00u1kcigdvWtR96HY5d7'
+----------------------+------------------+----------------------+---------------------------+--------+------------------+-------------+------------+-----------+-----------+---------------------------+---
| id                   | user_name        | app_id               | created                   | status | email            | external_id | first_name | last_name | last_sync | last_updated              | pa
+----------------------+------------------+----------------------+---------------------------+--------+------------------+-------------+------------+-----------+-----------+---------------------------+---
| 00u1kcigdvWtR96HY5d7 | arnab@turbot.com | 0oa1mf9l3dw26foa25d7 | 2021-12-10T12:43:42+05:30 | ACTIVE | arnab@turbot.com |             | Arnab      | Ghosh     | <null>    | 2021-12-10T15:04:59+05:30 | <n
+----------------------+------------------+----------------------+---------------------------+--------+------------------+-------------+------------+-----------+-----------+---------------------------+---
> select
  id as user_id,
  app_id,
  user_name,
  created,
  status
from
  okta_app_assigned_user;
+----------------------+----------------------+--------------------+---------------------------+--------+
| user_id              | app_id               | user_name          | created                   | status |
+----------------------+----------------------+--------------------+---------------------------+--------+
| 00u3e9oo5e7hR6X815d7 | 0oa1mf9l3dw26foa25d7 | testUser@gmail.com | 2022-01-24T11:16:25+05:30 | ACTIVE |
| 00u1kcigdvWtR96HY5d7 | 0oa1kchdmerpZir9y5d7 | <null>             | 2021-08-26T09:56:37+05:30 | ACTIVE |
| 00u1kcigdvWtR96HY5d7 | 0oa1mf49z9iZurdzA5d7 | <null>             | 2021-12-10T12:43:42+05:30 | ACTIVE |
| 00u1kcigdvWtR96HY5d7 | 0oa1mf9l3dw26foa25d7 | arnab@turbot.com   | 2021-12-10T12:43:42+05:30 | ACTIVE |
+----------------------+----------------------+--------------------+---------------------------+--------+
> select
  usr.id as id,
  usr.login as login,
  usr.created as created,
  usr.status as status
from
  okta_user usr
full outer join okta_app_assigned_user au on usr.id = au.id
where
  usr.id is null or au.id is null;
+----------------------+--------------------+---------------------------+--------+
| id                   | login              | created                   | status |
+----------------------+--------------------+---------------------------+--------+
| 00u33m8oarePFyaTm5d7 | arnabg57@gmail.com | 2021-12-10T16:19:06+05:30 | STAGED |
+----------------------+--------------------+---------------------------+--------+
> select
  app.name as app_name,
  app.id as app_id,
  app.label as app_label,
  app.created as app_created,
  app.status as app_status,
  au.id as user_id,
  usr.login as user_login,
  usr.created as user_created,
  usr.status as user_status
from 
  okta_application app 
inner join okta_app_assigned_user au on app.id = au.app_id
inner join okta_user usr on au.id = usr.id;
+-------------+----------------------+----------------------+---------------------------+------------+----------------------+--------------------+---------------------------+-------------+
| app_name    | app_id               | app_label            | app_created               | app_status | user_id              | user_login         | user_created              | user_status |
+-------------+----------------------+----------------------+---------------------------+------------+----------------------+--------------------+---------------------------+-------------+
| saasure     | 0oa1kchdmerpZir9y5d7 | Okta Admin Console   | 2021-08-26T09:56:28+05:30 | ACTIVE     | 00u1kcigdvWtR96HY5d7 | arnab@turbot.com   | 2021-08-26T09:56:37+05:30 | ACTIVE      |
| oidc_client | 0oa1mf9l3dw26foa25d7 | Test Private KeyPair | 2021-08-31T18:16:30+05:30 | ACTIVE     | 00u1kcigdvWtR96HY5d7 | arnab@turbot.com   | 2021-08-26T09:56:37+05:30 | ACTIVE      |
| oidc_client | 0oa1mf9l3dw26foa25d7 | Test Private KeyPair | 2021-08-31T18:16:30+05:30 | ACTIVE     | 00u3e9oo5e7hR6X815d7 | testUser@gmail.com | 2021-12-21T16:53:04+05:30 | STAGED      |
| oidc_client | 0oa1mf49z9iZurdzA5d7 | Service Client Name  | 2021-08-31T18:01:44+05:30 | ACTIVE     | 00u1kcigdvWtR96HY5d7 | arnab@turbot.com   | 2021-08-26T09:56:37+05:30 | ACTIVE      |
+-------------+----------------------+----------------------+---------------------------+------------+----------------------+--------------------+---------------------------+-------------+

=====================================================================

okta_application
================

> select * from okta_application
+---------------------+----------------------+----------------------+---------------------------+--------+---------------------------+--------+----------------+--------------------------------------------
| name                | id                   | label                | created                   | filter | last_updated              | status | sign_on_mode   | settings                                   
+---------------------+----------------------+----------------------+---------------------------+--------+---------------------------+--------+----------------+--------------------------------------------
| saasure             | 0oa1kchdmerpZir9y5d7 | Okta Admin Console   | 2021-08-26T09:56:28+05:30 | <null> | 2021-08-26T09:56:29+05:30 | ACTIVE | OPENID_CONNECT | {"app":{},"notifications":{"vpn":{"network"
| okta_browser_plugin | 0oa1kcigd9Kob07k05d7 | Okta Browser Plugin  | 2021-08-26T09:56:36+05:30 | <null> | 2021-08-26T09:56:36+05:30 | ACTIVE | OPENID_CONNECT | {"app":{},"notifications":{"vpn":{"network"
| oidc_client         | 0oa1mf49z9iZurdzA5d7 | Service Client Name  | 2021-08-31T18:01:44+05:30 | <null> | 2021-08-31T18:01:44+05:30 | ACTIVE | OPENID_CONNECT | {"app":{},"notifications":{"vpn":{"network"
| okta_enduser        | 0oa1kchdrfcXTbEzV5d7 | Okta Dashboard       | 2021-08-26T09:56:36+05:30 | <null> | 2021-08-26T09:56:36+05:30 | ACTIVE | OPENID_CONNECT | {"app":{},"notifications":{"vpn":{"network"
| oidc_client         | 0oa1mf9l3dw26foa25d7 | Test Private KeyPair | 2021-08-31T18:16:30+05:30 | <null> | 2021-08-31T18:16:30+05:30 | ACTIVE | OPENID_CONNECT | {"app":{},"notifications":{"vpn":{"network"
+---------------------+----------------------+----------------------+---------------------------+--------+---------------------------+--------+----------------+--------------------------------------------
> select * from okta_application limit 1
+---------+----------------------+--------------------+---------------------------+--------+---------------------------+--------+----------------+----------------------------------------------------------
| name    | id                   | label              | created                   | filter | last_updated              | status | sign_on_mode   | settings                                                 
+---------+----------------------+--------------------+---------------------------+--------+---------------------------+--------+----------------+----------------------------------------------------------
| saasure | 0oa1kchdmerpZir9y5d7 | Okta Admin Console | 2021-08-26T09:56:28+05:30 | <null> | 2021-08-26T09:56:29+05:30 | ACTIVE | OPENID_CONNECT | {"app":{},"notifications":{"vpn":{"network":{"connection"
+---------+----------------------+--------------------+---------------------------+--------+---------------------------+--------+----------------+----------------------------------------------------------
> select * from okta_application where id = '0oa1kchdrfcXTbEzV5d7'
+--------------+----------------------+----------------+---------------------------+--------+---------------------------+--------+----------------+---------------------------------------------------------
| name         | id                   | label          | created                   | filter | last_updated              | status | sign_on_mode   | settings                                                
+--------------+----------------------+----------------+---------------------------+--------+---------------------------+--------+----------------+---------------------------------------------------------
| okta_enduser | 0oa1kchdrfcXTbEzV5d7 | Okta Dashboard | 2021-08-26T09:56:36+05:30 | <null> | 2021-08-26T09:56:36+05:30 | ACTIVE | OPENID_CONNECT | {"app":{},"notifications":{"vpn":{"network":{"connection
+--------------+----------------------+----------------+---------------------------+--------+---------------------------+--------+----------------+---------------------------------------------------------
> select
  name,
  id,
  label,
  created,
  status,
  sign_on_mode
from
  okta_application;
+---------------------+----------------------+----------------------+---------------------------+--------+----------------+
| name                | id                   | label                | created                   | status | sign_on_mode   |
+---------------------+----------------------+----------------------+---------------------------+--------+----------------+
| saasure             | 0oa1kchdmerpZir9y5d7 | Okta Admin Console   | 2021-08-26T09:56:28+05:30 | ACTIVE | OPENID_CONNECT |
| okta_browser_plugin | 0oa1kcigd9Kob07k05d7 | Okta Browser Plugin  | 2021-08-26T09:56:36+05:30 | ACTIVE | OPENID_CONNECT |
| oidc_client         | 0oa1mf49z9iZurdzA5d7 | Service Client Name  | 2021-08-31T18:01:44+05:30 | ACTIVE | OPENID_CONNECT |
| oidc_client         | 0oa1mf9l3dw26foa25d7 | Test Private KeyPair | 2021-08-31T18:16:30+05:30 | ACTIVE | OPENID_CONNECT |
| okta_enduser        | 0oa1kchdrfcXTbEzV5d7 | Okta Dashboard       | 2021-08-26T09:56:36+05:30 | ACTIVE | OPENID_CONNECT |
+---------------------+----------------------+----------------------+---------------------------+--------+----------------+
> select
  name,
  id,
  label,
  created,
  status,
  sign_on_mode
from
  okta_application
where
  sign_on_mode = 'SAML_2_0';
+------+----+-------+---------+--------+--------------+
| name | id | label | created | status | sign_on_mode |
+------+----+-------+---------+--------+--------------+
+------+----+-------+---------+--------+--------------+
> select
  id,
  label,
  name,
  sign_on_mode,
  status
from
  okta_application as app
where
  filter = 'user.id eq "00u3e9oo5e7hR6X815d7"';
+----------------------+----------------------+-------------+----------------+--------+
| id                   | label                | name        | sign_on_mode   | status |
+----------------------+----------------------+-------------+----------------+--------+
| 0oa1mf9l3dw26foa25d7 | Test Private KeyPair | oidc_client | OPENID_CONNECT | ACTIVE |
+----------------------+----------------------+-------------+----------------+--------+
> select
  id,
  label,
  name,
  sign_on_mode,
  status
from
  okta_application
where
  filter = 'group.id eq "00g1kchdmqwsZEGG65d7"';
+----------------------+----------------------+-------------+----------------+--------+
| id                   | label                | name        | sign_on_mode   | status |
+----------------------+----------------------+-------------+----------------+--------+
| 0oa1mf9l3dw26foa25d7 | Test Private KeyPair | oidc_client | OPENID_CONNECT | ACTIVE |
+----------------------+----------------------+-------------+----------------+--------+

=====================================================================

okta_auth_server
================

> select * from okta_auth_server
+---------+----------------------+---------------------------+----------------------------------------------------+-----------------------------------------------------------+-------------+---------------
| name    | id                   | created                   | description                                        | issuer                                                    | issuer_mode | last_updated  
+---------+----------------------+---------------------------+----------------------------------------------------+-----------------------------------------------------------+-------------+---------------
| custom  | aus1kgcsraZWzYrFi5d7 | 2021-08-26T14:59:25+05:30 | Custom Authorization Server for your Applications  | https://dev-21314997.okta.com/oauth2/aus1kgcsraZWzYrFi5d7 | ORG_URL     | 2021-09-01T12:
| default | aus1kchdp0mdlLV7o5d7 | 2021-08-26T09:56:32+05:30 | Default Authorization Server for your Applications | https://dev-21314997.okta.com/oauth2/default              | ORG_URL     | 2021-08-27T11:
+---------+----------------------+---------------------------+----------------------------------------------------+-----------------------------------------------------------+-------------+---------------
> select * from okta_auth_server where id = 'aus1kchdp0mdlLV7o5d7'
+---------+----------------------+---------------------------+----------------------------------------------------+----------------------------------------------+-------------+---------------------------+
| name    | id                   | created                   | description                                        | issuer                                       | issuer_mode | last_updated              |
+---------+----------------------+---------------------------+----------------------------------------------------+----------------------------------------------+-------------+---------------------------+
| default | aus1kchdp0mdlLV7o5d7 | 2021-08-26T09:56:32+05:30 | Default Authorization Server for your Applications | https://dev-21314997.okta.com/oauth2/default | ORG_URL     | 2021-08-27T11:12:17+05:30 |
+---------+----------------------+---------------------------+----------------------------------------------------+----------------------------------------------+-------------+---------------------------+
> select * from okta_auth_server limit 1
+---------+----------------------+---------------------------+----------------------------------------------------+----------------------------------------------+-------------+---------------------------+
| name    | id                   | created                   | description                                        | issuer                                       | issuer_mode | last_updated              |
+---------+----------------------+---------------------------+----------------------------------------------------+----------------------------------------------+-------------+---------------------------+
| default | aus1kchdp0mdlLV7o5d7 | 2021-08-26T09:56:32+05:30 | Default Authorization Server for your Applications | https://dev-21314997.okta.com/oauth2/default | ORG_URL     | 2021-08-27T11:12:17+05:30 |
+---------+----------------------+---------------------------+----------------------------------------------------+----------------------------------------------+-------------+---------------------------+
> select
  name,
  id,
  audiences,
  created,
  last_updated,
  status
from
  okta_auth_server;
+---------+----------------------+-------------------+---------------------------+---------------------------+----------+
| name    | id                   | audiences         | created                   | last_updated              | status   |
+---------+----------------------+-------------------+---------------------------+---------------------------+----------+
| default | aus1kchdp0mdlLV7o5d7 | ["api://default"] | 2021-08-26T09:56:32+05:30 | 2021-08-27T11:12:17+05:30 | ACTIVE   |
| custom  | aus1kgcsraZWzYrFi5d7 | ["api://custom"]  | 2021-08-26T14:59:25+05:30 | 2021-09-01T12:11:48+05:30 | INACTIVE |
+---------+----------------------+-------------------+---------------------------+---------------------------+----------+
> select
  name,
  id,
  audiences,
  created,
  last_updated, 
  credentials -> 'signing' ->> 'lastRotated' as last_rotated,
  status
from
  okta_auth_server
where
  credentials -> 'signing' ->> 'rotationMode' = 'MANUAL' 
  and CAST(credentials -> 'signing' ->> 'lastRotated' as date) < current_timestamp - interval '90 days';
+--------+----------------------+------------------+---------------------------+---------------------------+----------------------+----------+
| name   | id                   | audiences        | created                   | last_updated              | last_rotated         | status   |
+--------+----------------------+------------------+---------------------------+---------------------------+----------------------+----------+
| custom | aus1kgcsraZWzYrFi5d7 | ["api://custom"] | 2021-08-26T14:59:25+05:30 | 2021-09-01T12:11:48+05:30 | 2021-08-26T09:29:25Z | INACTIVE |
+--------+----------------------+------------------+---------------------------+---------------------------+----------------------+----------+
> select
  name,
  id,
  audiences,
  created,
  last_updated,
  status
from
  okta_auth_server
where
  status = 'INACTIVE';
+--------+----------------------+------------------+---------------------------+---------------------------+----------+
| name   | id                   | audiences        | created                   | last_updated              | status   |
+--------+----------------------+------------------+---------------------------+---------------------------+----------+
| custom | aus1kgcsraZWzYrFi5d7 | ["api://custom"] | 2021-08-26T14:59:25+05:30 | 2021-09-01T12:11:48+05:30 | INACTIVE |
+--------+----------------------+------------------+---------------------------+---------------------------+----------+

=====================================================================

okta_factor
============

> select * from okta_factor
+----------------------+----------------------+------------------+---------------------+---------------------------+---------------------------+----------+--------------------+----------+--------+--------
| id                   | user_id              | user_name        | factor_type         | created                   | last_updated              | provider | status             | embedded | verify | title  
+----------------------+----------------------+------------------+---------------------+---------------------------+---------------------------+----------+--------------------+----------+--------+--------
| ost1l5cklwIRvLzUY5d7 | 00u1kcigdvWtR96HY5d7 | arnab@turbot.com | token:software:totp | 2021-08-27T15:26:43+05:30 | 2021-08-27T15:27:15+05:30 | OKTA     | ACTIVE             | <null>   | <null> | ost1l5c
| uft1l5e40d7dkyGXM5d7 | 00u1kcigdvWtR96HY5d7 | arnab@turbot.com | token:software:totp | 2021-08-27T15:32:26+05:30 | 2021-08-27T15:32:55+05:30 | GOOGLE   | ACTIVE             | <null>   | <null> | uft1l5e
| mbl1l5dh18Js2io3S5d7 | 00u1kcigdvWtR96HY5d7 | arnab@turbot.com | sms                 | 2021-08-27T15:33:19+05:30 | 2021-08-27T15:33:19+05:30 | OKTA     | PENDING_ACTIVATION | <null>   | <null> | mbl1l5d
+----------------------+----------------------+------------------+---------------------+---------------------------+---------------------------+----------+--------------------+----------+--------+--------
> select * from okta_factor limit 1
+----------------------+----------------------+------------------+-------------+---------------------------+---------------------------+----------+--------------------+----------+--------+----------------
| id                   | user_id              | user_name        | factor_type | created                   | last_updated              | provider | status             | embedded | verify | title          
+----------------------+----------------------+------------------+-------------+---------------------------+---------------------------+----------+--------------------+----------+--------+----------------
| mbl1l5dh18Js2io3S5d7 | 00u1kcigdvWtR96HY5d7 | arnab@turbot.com | sms         | 2021-08-27T15:33:19+05:30 | 2021-08-27T15:33:19+05:30 | OKTA     | PENDING_ACTIVATION | <null>   | <null> | mbl1l5dh18Js2io
+----------------------+----------------------+------------------+-------------+---------------------------+---------------------------+----------+--------------------+----------+--------+----------------
> select * from okta_factor where id = 'ost1l5cklwIRvLzUY5d7' and user_id = '00u1kcigdvWtR96HY5d7'
+----------------------+----------------------+------------------+---------------------+---------------------------+---------------------------+----------+--------+----------+--------+--------------------
| id                   | user_id              | user_name        | factor_type         | created                   | last_updated              | provider | status | embedded | verify | title              
+----------------------+----------------------+------------------+---------------------+---------------------------+---------------------------+----------+--------+----------+--------+--------------------
| ost1l5cklwIRvLzUY5d7 | 00u1kcigdvWtR96HY5d7 | arnab@turbot.com | token:software:totp | 2021-08-27T15:26:43+05:30 | 2021-08-27T15:27:15+05:30 | OKTA     | ACTIVE | <null>   | <null> | ost1l5cklwIRvLzUY5d
+----------------------+----------------------+------------------+---------------------+---------------------------+---------------------------+----------+--------+----------+--------+--------------------
> select
  id,
  user_id,
  factor_type,
  created,
  status
from
  okta_factor;
+----------------------+----------------------+---------------------+---------------------------+--------------------+
| id                   | user_id              | factor_type         | created                   | status             |
+----------------------+----------------------+---------------------+---------------------------+--------------------+
| ost1l5cklwIRvLzUY5d7 | 00u1kcigdvWtR96HY5d7 | token:software:totp | 2021-08-27T15:26:43+05:30 | ACTIVE             |
| mbl1l5dh18Js2io3S5d7 | 00u1kcigdvWtR96HY5d7 | sms                 | 2021-08-27T15:33:19+05:30 | PENDING_ACTIVATION |
| uft1l5e40d7dkyGXM5d7 | 00u1kcigdvWtR96HY5d7 | token:software:totp | 2021-08-27T15:32:26+05:30 | ACTIVE             |
+----------------------+----------------------+---------------------+---------------------------+--------------------+
> select
  id,
  user_id,
  factor_type,
  created,
  status
from
  okta_factor
where
  status = 'PENDING_ACTIVATION';
+----------------------+----------------------+-------------+---------------------------+--------------------+
| id                   | user_id              | factor_type | created                   | status             |
+----------------------+----------------------+-------------+---------------------------+--------------------+
| mbl1l5dh18Js2io3S5d7 | 00u1kcigdvWtR96HY5d7 | sms         | 2021-08-27T15:33:19+05:30 | PENDING_ACTIVATION |
+----------------------+----------------------+-------------+---------------------------+--------------------+
> select
  id,
  user_id,
  factor_type,
  created,
  provider,
  status
from
  okta_factor
where
  provider = 'OKTA';
+----------------------+----------------------+---------------------+---------------------------+----------+--------------------+
| id                   | user_id              | factor_type         | created                   | provider | status             |
+----------------------+----------------------+---------------------+---------------------------+----------+--------------------+
| ost1l5cklwIRvLzUY5d7 | 00u1kcigdvWtR96HY5d7 | token:software:totp | 2021-08-27T15:26:43+05:30 | OKTA     | ACTIVE             |
| mbl1l5dh18Js2io3S5d7 | 00u1kcigdvWtR96HY5d7 | sms                 | 2021-08-27T15:33:19+05:30 | OKTA     | PENDING_ACTIVATION |
+----------------------+----------------------+---------------------+---------------------------+----------+--------------------+

=====================================================================

okta_group
==========

> select * from okta_group
+---------------+----------------------+--------------------------------+---------------------------+--------+---------------------------+---------------------------+------------+-------------------------
| name          | id                   | description                    | created                   | filter | last_membership_updated   | last_updated              | type       | profile                 
+---------------+----------------------+--------------------------------+---------------------------+--------+---------------------------+---------------------------+------------+-------------------------
| Another Group | 00g3e9b6esCUiHSkK5d7 | This is another group          | 2021-12-21T15:39:02+05:30 | <null> | 2021-12-21T15:39:19+05:30 | 2021-12-21T15:39:02+05:30 | OKTA_GROUP | {"description":"This is 
| TestGroup     | 00g33kzj6xOZvlBUQ5d7 | This is a test group           | 2021-12-10T15:52:26+05:30 | <null> | 2021-12-20T13:19:07+05:30 | 2021-12-10T15:52:26+05:30 | OKTA_GROUP | {"description":"This is 
| Everyone      | 00g1kchdmqwsZEGG65d7 | All users in your organization | 2021-08-26T09:56:28+05:30 | <null> | 2021-12-21T16:53:04+05:30 | 2021-08-26T09:56:28+05:30 | BUILT_IN   | {"description":"All user
+---------------+----------------------+--------------------------------+---------------------------+--------+---------------------------+---------------------------+------------+-------------------------
> select * from okta_group where id = '00g33kzj6xOZvlBUQ5d7'
+-----------+----------------------+----------------------+---------------------------+--------+---------------------------+---------------------------+------------+---------------------------------------
| name      | id                   | description          | created                   | filter | last_membership_updated   | last_updated              | type       | profile                               
+-----------+----------------------+----------------------+---------------------------+--------+---------------------------+---------------------------+------------+---------------------------------------
| TestGroup | 00g33kzj6xOZvlBUQ5d7 | This is a test group | 2021-12-10T15:52:26+05:30 | <null> | 2021-12-20T13:19:07+05:30 | 2021-12-10T15:52:26+05:30 | OKTA_GROUP | {"description":"This is a test group",
+-----------+----------------------+----------------------+---------------------------+--------+---------------------------+---------------------------+------------+---------------------------------------
> select * from okta_group where id = '00g33kzj6xOZvlBUQ5d7' and type = 'OKTA_GROUP'
+-----------+----------------------+----------------------+---------------------------+--------+---------------------------+---------------------------+------------+---------------------------------------
| name      | id                   | description          | created                   | filter | last_membership_updated   | last_updated              | type       | profile                               
+-----------+----------------------+----------------------+---------------------------+--------+---------------------------+---------------------------+------------+---------------------------------------
| TestGroup | 00g33kzj6xOZvlBUQ5d7 | This is a test group | 2021-12-10T15:52:26+05:30 | <null> | 2021-12-20T13:19:07+05:30 | 2021-12-10T15:52:26+05:30 | OKTA_GROUP | {"description":"This is a test group",
+-----------+----------------------+----------------------+---------------------------+--------+---------------------------+---------------------------+------------+---------------------------------------
> select
  name,
  id,
  type,
  description,
  jsonb_pretty(profile) as profile
from
  okta_group;
+---------------+----------------------+------------+--------------------------------+-----------------------------------------------------+
| name          | id                   | type       | description                    | profile                                             |
+---------------+----------------------+------------+--------------------------------+-----------------------------------------------------+
| Another Group | 00g3e9b6esCUiHSkK5d7 | OKTA_GROUP | This is another group          | {                                                   |
|               |                      |            |                                |     "name": "Another Group",                        |
|               |                      |            |                                |     "description": "This is another group"          |
|               |                      |            |                                | }                                                   |
| Everyone      | 00g1kchdmqwsZEGG65d7 | BUILT_IN   | All users in your organization | {                                                   |
|               |                      |            |                                |     "name": "Everyone",                             |
|               |                      |            |                                |     "description": "All users in your organization" |
|               |                      |            |                                | }                                                   |
| TestGroup     | 00g33kzj6xOZvlBUQ5d7 | OKTA_GROUP | This is a test group           | {                                                   |
|               |                      |            |                                |     "name": "TestGroup",                            |
|               |                      |            |                                |     "description": "This is a test group"           |
|               |                      |            |                                | }                                                   |
+---------------+----------------------+------------+--------------------------------+-----------------------------------------------------+
> select
  name,
  id,
  type,
  age(current_timestamp, last_membership_updated) as last_membership_updated
from
  okta_group
where
  last_membership_updated < current_timestamp - interval '30 days';
+---------------+----------------------+------------+------------------------------+
| name          | id                   | type       | last_membership_updated      |
+---------------+----------------------+------------+------------------------------+
| Another Group | 00g3e9b6esCUiHSkK5d7 | OKTA_GROUP | 1 mon 5 days 22:07:41.869854 |
| Everyone      | 00g1kchdmqwsZEGG65d7 | BUILT_IN   | 1 mon 5 days 20:53:56.869854 |
| TestGroup     | 00g33kzj6xOZvlBUQ5d7 | OKTA_GROUP | 1 mon 7 days 00:27:53.869854 |
+---------------+----------------------+------------+------------------------------+
> select
  name,
  id,
  type,
  last_updated,
  last_membership_updated
from
  okta_group
where
  filter = 'type eq "OKTA_GROUP" and (lastUpdated gt "2021-05-05T00:00:00.000Z" or lastMembershipUpdated gt "2021-05-05T00:00:00.000Z")';
+---------------+----------------------+------------+---------------------------+---------------------------+
| name          | id                   | type       | last_updated              | last_membership_updated   |
+---------------+----------------------+------------+---------------------------+---------------------------+
| TestGroup     | 00g33kzj6xOZvlBUQ5d7 | OKTA_GROUP | 2021-12-10T15:52:26+05:30 | 2021-12-20T13:19:07+05:30 |
| Another Group | 00g3e9b6esCUiHSkK5d7 | OKTA_GROUP | 2021-12-21T15:39:02+05:30 | 2021-12-21T15:39:19+05:30 |
+---------------+----------------------+------------+---------------------------+---------------------------+
> select
  name,
  id,
  jsonb_pretty(group_members) as group_members
from
  okta_group;
+---------------+----------------------+----------------------------------------+
| name          | id                   | group_members                          |
+---------------+----------------------+----------------------------------------+
| Another Group | 00g3e9b6esCUiHSkK5d7 | [                                      |
|               |                      |     {                                  |
|               |                      |         "id": "00u33m8oarePFyaTm5d7",  |
|               |                      |         "email": "arnabg57@gmail.com", |
|               |                      |         "login": "arnabg57@gmail.com"  |
|               |                      |     }                                  |
|               |                      | ]                                      |
| TestGroup     | 00g33kzj6xOZvlBUQ5d7 | [                                      |
|               |                      |     {                                  |
|               |                      |         "id": "00u33m8oarePFyaTm5d7",  |
|               |                      |         "email": "arnabg57@gmail.com", |
|               |                      |         "login": "arnabg57@gmail.com"  |
|               |                      |     }                                  |
|               |                      | ]                                      |
| Everyone      | 00g1kchdmqwsZEGG65d7 | [                                      |
|               |                      |     {                                  |
|               |                      |         "id": "00u1kcigdvWtR96HY5d7",  |
|               |                      |         "email": "arnab@turbot.com",   |
|               |                      |         "login": "arnab@turbot.com"    |
|               |                      |     },                                 |
|               |                      |     {                                  |
|               |                      |         "id": "00u33m8oarePFyaTm5d7",  |
|               |                      |         "email": "arnabg57@gmail.com", |
|               |                      |         "login": "arnabg57@gmail.com"  |
|               |                      |     },                                 |
|               |                      |     {                                  |
|               |                      |         "id": "00u3e9oo5e7hR6X815d7",  |
|               |                      |         "email": "testUser@gmail.com", |
|               |                      |         "login": "testUser@gmail.com"  |
|               |                      |     }                                  |
|               |                      | ]                                      |
+---------------+----------------------+----------------------------------------+

=====================================================================

okta_idp_discovery_policy
=========================

> select * from okta_idp_discovery_policy
+----------------------+----------------------+----------------------------------+---------------------------+---------------------------+----------+--------+--------+------------+------------------------
| name                 | id                   | description                      | created                   | last_updated              | priority | status | system | conditions | rules                  
+----------------------+----------------------+----------------------------------+---------------------------+---------------------------+----------+--------+--------+------------+------------------------
| Idp Discovery Policy | 00p1kchdqrphQFcfz5d7 | The default IdP Discovery Policy | 2021-08-26T09:56:34+05:30 | 2021-08-26T09:56:34+05:30 | 1        | ACTIVE | true   | <null>     | [{"_links":{"self":{"hi
+----------------------+----------------------+----------------------------------+---------------------------+---------------------------+----------+--------+--------+------------+------------------------
> select
  name,
  id,
  created,
  status,
  priority,
  system
from
  okta_idp_discovery_policy
order by
  priority;
+----------------------+----------------------+---------------------------+--------+----------+--------+
| name                 | id                   | created                   | status | priority | system |
+----------------------+----------------------+---------------------------+--------+----------+--------+
| Idp Discovery Policy | 00p1kchdqrphQFcfz5d7 | 2021-08-26T09:56:34+05:30 | ACTIVE | 1        | true   |
+----------------------+----------------------+---------------------------+--------+----------+--------+
> select
  name,
  id,
  created,
  status,
  priority,
  system
from
  okta_idp_discovery_policy
where
  system;
+----------------------+----------------------+---------------------------+--------+----------+--------+
| name                 | id                   | created                   | status | priority | system |
+----------------------+----------------------+---------------------------+--------+----------+--------+
| Idp Discovery Policy | 00p1kchdqrphQFcfz5d7 | 2021-08-26T09:56:34+05:30 | ACTIVE | 1        | true   |
+----------------------+----------------------+---------------------------+--------+----------+--------+
> 
> select
  name,
  id,
  created,
  status,
  priority,
  system
from
  okta_idp_discovery_policy
where
  status = 'INACTIVE';
+------+----+---------+--------+----------+--------+
| name | id | created | status | priority | system |
+------+----+---------+--------+----------+--------+
+------+----+---------+--------+----------+--------+
> select
  name,
  id,
  r -> 'name' as rule_name,
  r -> 'system' as rule_system,
  r -> 'status' as rule_status,
  r -> 'priority' as rule_priority,
  jsonb_pretty(r -> 'actions') as rule_actions,
  jsonb_pretty(r -> 'conditions') as rule_conditions
from
  okta_idp_discovery_policy,
  jsonb_array_elements(rules) as r;
+----------------------+----------------------+----------------+-------------+-------------+---------------+--------------------------------+----------------------------------+
| name                 | id                   | rule_name      | rule_system | rule_status | rule_priority | rule_actions                   | rule_conditions                  |
+----------------------+----------------------+----------------+-------------+-------------+---------------+--------------------------------+----------------------------------+
| Idp Discovery Policy | 00p1kchdqrphQFcfz5d7 | "Default Rule" | true        | "ACTIVE"    | 1             | {                              | {                                |
|                      |                      |                |             |             |               |     "idp": {                   |     "app": {                     |
|                      |                      |                |             |             |               |         "providers": [         |         "exclude": [             |
|                      |                      |                |             |             |               |             {                  |         ],                       |
|                      |                      |                |             |             |               |                 "type": "OKTA" |         "include": [             |
|                      |                      |                |             |             |               |             }                  |         ]                        |
|                      |                      |                |             |             |               |         ]                      |     },                           |
|                      |                      |                |             |             |               |     }                          |     "network": {                 |
|                      |                      |                |             |             |               | }                              |         "connection": "ANYWHERE" |
|                      |                      |                |             |             |               |                                |     },                           |
|                      |                      |                |             |             |               |                                |     "platform": {                |
|                      |                      |                |             |             |               |                                |         "exclude": [             |
|                      |                      |                |             |             |               |                                |         ],                       |
|                      |                      |                |             |             |               |                                |         "include": [             |
|                      |                      |                |             |             |               |                                |         ]                        |
|                      |                      |                |             |             |               |                                |     },                           |
|                      |                      |                |             |             |               |                                |     "userIdentifier": {          |
|                      |                      |                |             |             |               |                                |         "patterns": [            |
|                      |                      |                |             |             |               |                                |         ]                        |
|                      |                      |                |             |             |               |                                |     }                            |
|                      |                      |                |             |             |               |                                | }                                |
+----------------------+----------------------+----------------+-------------+-------------+---------------+--------------------------------+----------------------------------+

=====================================================================

okta_password_policy
====================

> select * from okta_password_policy
+----------------+----------------------+--------------------------------------------------------------------------+---------------------------+---------------------------+----------+--------+--------+---
| name           | id                   | description                                                              | created                   | last_updated              | priority | status | system | co
+----------------+----------------------+--------------------------------------------------------------------------+---------------------------+---------------------------+----------+--------+--------+---
| Default Policy | 00p1kchdolZ2RG9kF5d7 | The default policy applies in all situations if no other policy applies. | 2021-08-26T09:56:31+05:30 | 2021-08-26T09:56:31+05:30 | 1        | ACTIVE | true   | {"
+----------------+----------------------+--------------------------------------------------------------------------+---------------------------+---------------------------+----------+--------+--------+---
> select
  name,
  id,
  created,
  status,
  priority,
  system
from
  okta_password_policy
order by
  priority;
+----------------+----------------------+---------------------------+--------+----------+--------+
| name           | id                   | created                   | status | priority | system |
+----------------+----------------------+---------------------------+--------+----------+--------+
| Default Policy | 00p1kchdolZ2RG9kF5d7 | 2021-08-26T09:56:31+05:30 | ACTIVE | 1        | true   |
+----------------+----------------------+---------------------------+--------+----------+--------+
> select
  name,
  id,
  created,
  status,
  priority,
  system
from
  okta_password_policy
where
  system;
+----------------+----------------------+---------------------------+--------+----------+--------+
| name           | id                   | created                   | status | priority | system |
+----------------+----------------------+---------------------------+--------+----------+--------+
| Default Policy | 00p1kchdolZ2RG9kF5d7 | 2021-08-26T09:56:31+05:30 | ACTIVE | 1        | true   |
+----------------+----------------------+---------------------------+--------+----------+--------+
> select
  name,
  id,
  created,
  status,
  priority,
  system
from
  okta_password_policy
where
  status = 'INACTIVE';
+------+----+---------+--------+----------+--------+
| name | id | created | status | priority | system |
+------+----+---------+--------+----------+--------+
+------+----+---------+--------+----------+--------+
> select
  name,
  id,
  status,
  jsonb_pretty(settings -> 'password' -> 'age') as password_age,
  jsonb_pretty(settings -> 'password' -> 'complexity') as password_complexity,
  jsonb_pretty(settings -> 'password' -> 'lockout') as password_lockout,
  jsonb_pretty(settings -> 'recovery' -> 'factors') as recovery_factors,
  jsonb_pretty(settings -> 'delegation' -> 'options') as delegation_options
from
  okta_password_policy;
+----------------+----------------------+--------+-------------------------+------------------------------+------------------------------------------+--------------------------------------------+---------
| name           | id                   | status | password_age            | password_complexity          | password_lockout                         | recovery_factors                           | delegati
+----------------+----------------------+--------+-------------------------+------------------------------+------------------------------------------+--------------------------------------------+---------
| Default Policy | 00p1kchdolZ2RG9kF5d7 | ACTIVE | {                       | {                            | {                                        | {                                          | {       
|                |                      |        |     "maxAgeDays": 0,    |     "minLength": 8,          |     "maxAttempts": 10,                   |     "okta_sms": {                          |     "ski
|                |                      |        |     "historyCount": 4,  |     "minNumber": 0,          |     "autoUnlockMinutes": 0,              |         "status": "INACTIVE"               | }       
|                |                      |        |     "minAgeMinutes": 0, |     "minSymbol": 0,          |     "showLockoutFailures": false,        |     },                                     |         
|                |                      |        |     "expireWarnDays": 0 |     "dictionary": {          |     "userLockoutNotificationChannels": [ |     "okta_call": {                         |         
|                |                      |        | }                       |         "common": {          |     ]                                    |         "status": "INACTIVE"               |         
|                |                      |        |                         |             "exclude": true  | }                                        |     },                                     |         
|                |                      |        |                         |         }                    |                                          |     "okta_email": {                        |         
|                |                      |        |                         |     },                       |                                          |         "status": "ACTIVE",                |         
|                |                      |        |                         |     "minLowerCase": 0,       |                                          |         "properties": {                    |         
|                |                      |        |                         |     "minUpperCase": 0,       |                                          |             "recoveryToken": {             |         
|                |                      |        |                         |     "excludeUsername": true, |                                          |                 "tokenLifetimeMinutes": 60 |         
|                |                      |        |                         |     "excludeAttributes": [   |                                          |             }                              |         
|                |                      |        |                         |     ]                        |                                          |         }                                  |         
|                |                      |        |                         | }                            |                                          |     },                                     |         
|                |                      |        |                         |                              |                                          |     "recovery_question": {                 |         
|                |                      |        |                         |                              |                                          |         "status": "ACTIVE",                |         
|                |                      |        |                         |                              |                                          |         "properties": {                    |         
|                |                      |        |                         |                              |                                          |             "complexity": {                |         
|                |                      |        |                         |                              |                                          |                 "minLength": 4             |         
|                |                      |        |                         |                              |                                          |             }                              |         
|                |                      |        |                         |                              |                                          |         }                                  |         
|                |                      |        |                         |                              |                                          |     }                                      |         
|                |                      |        |                         |                              |                                          | }                                          |         
+----------------+----------------------+--------+-------------------------+------------------------------+------------------------------------------+--------------------------------------------+---------
> select
  name,
  id,
  r -> 'name' as rule_name,
  r -> 'system' as rule_system,
  r -> 'status' as rule_status,
  r -> 'priority' as rule_priority,
  jsonb_pretty(r -> 'actions') as rule_actions,
  jsonb_pretty(r -> 'conditions') as rule_conditions
from
  okta_password_policy,
  jsonb_array_elements(rules) as r;
+----------------+----------------------+----------------+-------------+-------------+---------------+-----------------------------------+----------------------------------+
| name           | id                   | rule_name      | rule_system | rule_status | rule_priority | rule_actions                      | rule_conditions                  |
+----------------+----------------------+----------------+-------------+-------------+---------------+-----------------------------------+----------------------------------+
| Default Policy | 00p1kchdolZ2RG9kF5d7 | "Default Rule" | true        | "ACTIVE"    | 1             | {                                 | {                                |
|                |                      |                |             |             |               |     "passwordChange": {           |     "people": {                  |
|                |                      |                |             |             |               |         "access": "ALLOW"         |         "users": {               |
|                |                      |                |             |             |               |     },                            |             "exclude": [         |
|                |                      |                |             |             |               |     "selfServiceUnlock": {        |             ]                    |
|                |                      |                |             |             |               |         "access": "DENY"          |         }                        |
|                |                      |                |             |             |               |     },                            |     },                           |
|                |                      |                |             |             |               |     "selfServicePasswordReset": { |     "network": {                 |
|                |                      |                |             |             |               |         "access": "ALLOW"         |         "connection": "ANYWHERE" |
|                |                      |                |             |             |               |     }                             |     }                            |
|                |                      |                |             |             |               | }                                 | }                                |
+----------------+----------------------+----------------+-------------+-------------+---------------+-----------------------------------+----------------------------------+

=====================================================================

okta_mfa_policy
===============

> select * from okta_mfa_policy
+----------------+----------------------+--------------------------------------------------------------------------+---------------------------+---------------------------+----------+--------+--------+---
| name           | id                   | description                                                              | created                   | last_updated              | priority | status | system | co
+----------------+----------------------+--------------------------------------------------------------------------+---------------------------+---------------------------+----------+--------+--------+---
| Default Policy | 00p1kchdowPMGiOs35d7 | The default policy applies in all situations if no other policy applies. | 2021-08-26T09:56:31+05:30 | 2021-08-27T15:28:22+05:30 | 1        | ACTIVE | true   | {"
+----------------+----------------------+--------------------------------------------------------------------------+---------------------------+---------------------------+----------+--------+--------+---
> select
  name,
  id,
  created,
  status,
  priority,
  system
from
  okta_mfa_policy
order by
  priority;
+----------------+----------------------+---------------------------+--------+----------+--------+
| name           | id                   | created                   | status | priority | system |
+----------------+----------------------+---------------------------+--------+----------+--------+
| Default Policy | 00p1kchdowPMGiOs35d7 | 2021-08-26T09:56:31+05:30 | ACTIVE | 1        | true   |
+----------------+----------------------+---------------------------+--------+----------+--------+
> select
  name,
  id,
  created,
  status,
  priority,
  system
from
  okta_mfa_policy
where
  system;
+----------------+----------------------+---------------------------+--------+----------+--------+
| name           | id                   | created                   | status | priority | system |
+----------------+----------------------+---------------------------+--------+----------+--------+
| Default Policy | 00p1kchdowPMGiOs35d7 | 2021-08-26T09:56:31+05:30 | ACTIVE | 1        | true   |
+----------------+----------------------+---------------------------+--------+----------+--------+
> select
  name,
  id,
  created,
  status,
  priority,
  system
from
  okta_mfa_policy
where
  status = 'INACTIVE';
+------+----+---------+--------+----------+--------+
| name | id | created | status | priority | system |
+------+----+---------+--------+----------+--------+
+------+----+---------+--------+----------+--------+
> select
  name,
  id,
  created,
  status,
  priority,
  system
from
  okta_mfa_policy
where
  priority = 1;
+----------------+----------------------+---------------------------+--------+----------+--------+
| name           | id                   | created                   | status | priority | system |
+----------------+----------------------+---------------------------+--------+----------+--------+
| Default Policy | 00p1kchdowPMGiOs35d7 | 2021-08-26T09:56:31+05:30 | ACTIVE | 1        | true   |
+----------------+----------------------+---------------------------+--------+----------+--------+
> select
  name,
  id,
  r -> 'name' as rule_name,
  r -> 'system' as rule_system,
  r -> 'status' as rule_status,
  r -> 'priority' as rule_priority,
  jsonb_pretty(r -> 'actions') as rule_actions,
  jsonb_pretty(r -> 'conditions') as rule_conditions
from
  okta_mfa_policy,
  jsonb_array_elements(rules) as r;
+----------------+----------------------+----------------+-------------+-------------+---------------+-----------------------------+----------------------------------+
| name           | id                   | rule_name      | rule_system | rule_status | rule_priority | rule_actions                | rule_conditions                  |
+----------------+----------------------+----------------+-------------+-------------+---------------+-----------------------------+----------------------------------+
| Default Policy | 00p1kchdowPMGiOs35d7 | "Default Rule" | true        | "ACTIVE"    | 1             | {                           | {                                |
|                |                      |                |             |             |               |     "enroll": {             |     "people": {                  |
|                |                      |                |             |             |               |         "self": "CHALLENGE" |         "users": {               |
|                |                      |                |             |             |               |     }                       |             "exclude": [         |
|                |                      |                |             |             |               | }                           |             ]                    |
|                |                      |                |             |             |               |                             |         }                        |
|                |                      |                |             |             |               |                             |     },                           |
|                |                      |                |             |             |               |                             |     "network": {                 |
|                |                      |                |             |             |               |                             |         "connection": "ANYWHERE" |
|                |                      |                |             |             |               |                             |     }                            |
|                |                      |                |             |             |               |                             | }                                |
+----------------+----------------------+----------------+-------------+-------------+---------------+-----------------------------+----------------------------------+

=====================================================================

okta_network_zone
=================

> select * from okta_network_zone
+---------------+----------------------+---------------------------+---------------------------+------------+--------+--------+------+-----------+--------+----------+-----------+---------+---------------+
| name          | id                   | created                   | last_updated              | proxy_type | status | system | type | usage     | asns   | gateways | locations | proxies | title         |
+---------------+----------------------+---------------------------+---------------------------+------------+--------+--------+------+-----------+--------+----------+-----------+---------+---------------+
| LegacyIpZone  | nzo1kchdoeRrqwwqc5d7 | 2021-08-26T09:56:30+05:30 | 2021-08-26T09:56:30+05:30 |            | ACTIVE | true   | IP   | POLICY    | <null> | <null>   | <null>    | <null>  | LegacyIpZone  |
| BlockedIpZone | nzo1kchdofJd1uh0B5d7 | 2021-08-26T09:56:30+05:30 | 2021-08-26T09:56:30+05:30 |            | ACTIVE | true   | IP   | BLOCKLIST | <null> | <null>   | <null>    | <null>  | BlockedIpZone |
+---------------+----------------------+---------------------------+---------------------------+------------+--------+--------+------+-----------+--------+----------+-----------+---------+---------------+
> select * from okta_network_zone where id = 'nzo1kchdofJd1uh0B5d7'
+---------------+----------------------+---------------------------+---------------------------+------------+--------+--------+------+-----------+--------+----------+-----------+---------+---------------+
| name          | id                   | created                   | last_updated              | proxy_type | status | system | type | usage     | asns   | gateways | locations | proxies | title         |
+---------------+----------------------+---------------------------+---------------------------+------------+--------+--------+------+-----------+--------+----------+-----------+---------+---------------+
| BlockedIpZone | nzo1kchdofJd1uh0B5d7 | 2021-08-26T09:56:30+05:30 | 2021-08-26T09:56:30+05:30 |            | ACTIVE | true   | IP   | BLOCKLIST | <null> | <null>   | <null>    | <null>  | BlockedIpZone |
+---------------+----------------------+---------------------------+---------------------------+------------+--------+--------+------+-----------+--------+----------+-----------+---------+---------------+
> select * from okta_network_zone limit 1
+---------------+----------------------+---------------------------+---------------------------+------------+--------+--------+------+-----------+--------+----------+-----------+---------+---------------+
| name          | id                   | created                   | last_updated              | proxy_type | status | system | type | usage     | asns   | gateways | locations | proxies | title         |
+---------------+----------------------+---------------------------+---------------------------+------------+--------+--------+------+-----------+--------+----------+-----------+---------+---------------+
| BlockedIpZone | nzo1kchdofJd1uh0B5d7 | 2021-08-26T09:56:30+05:30 | 2021-08-26T09:56:30+05:30 |            | ACTIVE | true   | IP   | BLOCKLIST | <null> | <null>   | <null>    | <null>  | BlockedIpZone |
+---------------+----------------------+---------------------------+---------------------------+------------+--------+--------+------+-----------+--------+----------+-----------+---------+---------------+
> select
  name,
  id,
  created,
  status,
  system,
  locations,
  proxy_type,
  usage
from
  okta_network_zone;
+---------------+----------------------+---------------------------+--------+--------+-----------+------------+-----------+
| name          | id                   | created                   | status | system | locations | proxy_type | usage     |
+---------------+----------------------+---------------------------+--------+--------+-----------+------------+-----------+
| BlockedIpZone | nzo1kchdofJd1uh0B5d7 | 2021-08-26T09:56:30+05:30 | ACTIVE | true   | <null>    |            | BLOCKLIST |
| LegacyIpZone  | nzo1kchdoeRrqwwqc5d7 | 2021-08-26T09:56:30+05:30 | ACTIVE | true   | <null>    |            | POLICY    |
+---------------+----------------------+---------------------------+--------+--------+-----------+------------+-----------+
> select
  name,
  id,
  created,
  status,
  system,
  proxy_type
from
  okta_network_zone
where
  proxy_type = 'TorAnonymizer';
+------+----+---------+--------+--------+------------+
| name | id | created | status | system | proxy_type |
+------+----+---------+--------+--------+------------+
+------+----+---------+--------+--------+------------+
> select
  name,
  id,
  l -> 'country' as country,
  l -> 'region' as region
from
  okta_network_zone,
  jsonb_array_elements(locations) as l;
+------+----+---------+--------+
| name | id | country | region |
+------+----+---------+--------+
+------+----+---------+--------+
> select
  name,
  id,
  created,
  status,
  system
from
  okta_network_zone
where
  system;
+---------------+----------------------+---------------------------+--------+--------+
| name          | id                   | created                   | status | system |
+---------------+----------------------+---------------------------+--------+--------+
| LegacyIpZone  | nzo1kchdoeRrqwwqc5d7 | 2021-08-26T09:56:30+05:30 | ACTIVE | true   |
| BlockedIpZone | nzo1kchdofJd1uh0B5d7 | 2021-08-26T09:56:30+05:30 | ACTIVE | true   |
+---------------+----------------------+---------------------------+--------+--------+
> select
  name,
  id,
  created,
  status,
  system,
  proxy_type
from
  okta_network_zone
where
  status = 'ACTIVE';
+---------------+----------------------+---------------------------+--------+--------+------------+
| name          | id                   | created                   | status | system | proxy_type |
+---------------+----------------------+---------------------------+--------+--------+------------+
| LegacyIpZone  | nzo1kchdoeRrqwwqc5d7 | 2021-08-26T09:56:30+05:30 | ACTIVE | true   |            |
| BlockedIpZone | nzo1kchdofJd1uh0B5d7 | 2021-08-26T09:56:30+05:30 | ACTIVE | true   |            |
+---------------+----------------------+---------------------------+--------+--------+------------+

=====================================================================

okta_signon_policy
==================

> select * from okta_signon_policy
+----------------+----------------------+--------------------------------------------------------------------------+---------------------------+---------------------------+----------+--------+--------+---
| name           | id                   | description                                                              | created                   | last_updated              | priority | status | system | co
+----------------+----------------------+--------------------------------------------------------------------------+---------------------------+---------------------------+----------+--------+--------+---
| Default Policy | 00p1kchdmrrRMQ9qm5d7 | The default policy applies in all situations if no other policy applies. | 2021-08-26T09:56:28+05:30 | 2021-08-26T09:56:28+05:30 | 1        | ACTIVE | true   | {"
+----------------+----------------------+--------------------------------------------------------------------------+---------------------------+---------------------------+----------+--------+--------+---
> select
  name,
  id,
  created,
  status,
  priority,
  system
from
  okta_signon_policy
order by
  priority;
+----------------+----------------------+---------------------------+--------+----------+--------+
| name           | id                   | created                   | status | priority | system |
+----------------+----------------------+---------------------------+--------+----------+--------+
| Default Policy | 00p1kchdmrrRMQ9qm5d7 | 2021-08-26T09:56:28+05:30 | ACTIVE | 1        | true   |
+----------------+----------------------+---------------------------+--------+----------+--------+
> select
  name,
  id,
  created,
  status,
  priority,
  system
from
  okta_signon_policy
where
  system;
+----------------+----------------------+---------------------------+--------+----------+--------+
| name           | id                   | created                   | status | priority | system |
+----------------+----------------------+---------------------------+--------+----------+--------+
| Default Policy | 00p1kchdmrrRMQ9qm5d7 | 2021-08-26T09:56:28+05:30 | ACTIVE | 1        | true   |
+----------------+----------------------+---------------------------+--------+----------+--------+
> select
  name,
  id,
  created,
  status,
  priority,
  system
from
  okta_signon_policy
where
  status = 'INACTIVE';
+------+----+---------+--------+----------+--------+
| name | id | created | status | priority | system |
+------+----+---------+--------+----------+--------+
+------+----+---------+--------+----------+--------+
> select
  name,
  id,
  r -> 'name' as rule_name,
  r -> 'system' as rule_system,
  r -> 'status' as rule_status,
  r -> 'priority' as rule_priority,
  jsonb_pretty(r -> 'actions') as rule_actions,
  jsonb_pretty(r -> 'conditions') as rule_conditions
from
  okta_signon_policy,
  jsonb_array_elements(rules) as r;
+----------------+----------------------+----------------+-------------+-------------+---------------+--------------------------------------------+----------------------------------+
| name           | id                   | rule_name      | rule_system | rule_status | rule_priority | rule_actions                               | rule_conditions                  |
+----------------+----------------------+----------------+-------------+-------------+---------------+--------------------------------------------+----------------------------------+
| Default Policy | 00p1kchdmrrRMQ9qm5d7 | "Default Rule" | true        | "ACTIVE"    | 1             | {                                          | {                                |
|                |                      |                |             |             |               |     "signon": {                            |     "people": {                  |
|                |                      |                |             |             |               |         "access": "ALLOW",                 |         "users": {               |
|                |                      |                |             |             |               |         "session": {                       |             "exclude": [         |
|                |                      |                |             |             |               |             "usePersistentCookie": false,  |             ]                    |
|                |                      |                |             |             |               |             "maxSessionIdleMinutes": 120,  |         }                        |
|                |                      |                |             |             |               |             "maxSessionLifetimeMinutes": 0 |     },                           |
|                |                      |                |             |             |               |         },                                 |     "network": {                 |
|                |                      |                |             |             |               |         "primaryFactor": "PASSWORD_IDP",   |         "connection": "ANYWHERE" |
|                |                      |                |             |             |               |         "requireFactor": false,            |     },                           |
|                |                      |                |             |             |               |         "rememberDeviceByDefault": false   |     "authContext": {             |
|                |                      |                |             |             |               |     }                                      |         "authType": "ANY"        |
|                |                      |                |             |             |               | }                                          |     }                            |
|                |                      |                |             |             |               |                                            | }                                |
+----------------+----------------------+----------------+-------------+-------------+---------------+--------------------------------------------+----------------------------------+

=====================================================================

okta_trusted_origin
===================

> select * from okta_trusted_origin
+----------------------+----------------------+---------------------------+----------------------+---------------------------+----------------------+------------------+--------+---------------------------
| name                 | id                   | created                   | created_by           | last_updated              | last_updated_by      | origin           | status | scopes                    
+----------------------+----------------------+---------------------------+----------------------+---------------------------+----------------------+------------------+--------+---------------------------
| test-origin-redirect | tos1l3v1djOJMSQkh5d7 | 2021-08-27T13:14:15+05:30 | 00u1kcigdvWtR96HY5d7 | 2021-08-30T15:58:20+05:30 | 00u1kcigdvWtR96HY5d7 | http://test.com  | ACTIVE | [{"type":"REDIRECT"}]     
| Test CORS            | tos1m59anpeSM4if95d7 | 2021-08-30T15:58:43+05:30 | 00u1kcigdvWtR96HY5d7 | 2021-09-01T12:39:45+05:30 | 00u1kcigdvWtR96HY5d7 | http://test2.com | ACTIVE | [{"type":"CORS"},{"type":"
+----------------------+----------------------+---------------------------+----------------------+---------------------------+----------------------+------------------+--------+---------------------------
> select * from okta_trusted_origin limit 1
+----------------------+----------------------+---------------------------+----------------------+---------------------------+----------------------+-----------------+--------+-----------------------+----
| name                 | id                   | created                   | created_by           | last_updated              | last_updated_by      | origin          | status | scopes                | tit
+----------------------+----------------------+---------------------------+----------------------+---------------------------+----------------------+-----------------+--------+-----------------------+----
| test-origin-redirect | tos1l3v1djOJMSQkh5d7 | 2021-08-27T13:14:15+05:30 | 00u1kcigdvWtR96HY5d7 | 2021-08-30T15:58:20+05:30 | 00u1kcigdvWtR96HY5d7 | http://test.com | ACTIVE | [{"type":"REDIRECT"}] | tes
+----------------------+----------------------+---------------------------+----------------------+---------------------------+----------------------+-----------------+--------+-----------------------+----
> select * from okta_trusted_origin where id = 'tos1l3v1djOJMSQkh5d7'
+----------------------+----------------------+---------------------------+----------------------+---------------------------+----------------------+-----------------+--------+-----------------------+----
| name                 | id                   | created                   | created_by           | last_updated              | last_updated_by      | origin          | status | scopes                | tit
+----------------------+----------------------+---------------------------+----------------------+---------------------------+----------------------+-----------------+--------+-----------------------+----
| test-origin-redirect | tos1l3v1djOJMSQkh5d7 | 2021-08-27T13:14:15+05:30 | 00u1kcigdvWtR96HY5d7 | 2021-08-30T15:58:20+05:30 | 00u1kcigdvWtR96HY5d7 | http://test.com | ACTIVE | [{"type":"REDIRECT"}] | tes
+----------------------+----------------------+---------------------------+----------------------+---------------------------+----------------------+-----------------+--------+-----------------------+----
> select
  name,
  id,
  created,
  last_updated,
  origin,
  scopes,
  status
from
  okta_trusted_origin;
+----------------------+----------------------+---------------------------+---------------------------+------------------+---------------------------------------+--------+
| name                 | id                   | created                   | last_updated              | origin           | scopes                                | status |
+----------------------+----------------------+---------------------------+---------------------------+------------------+---------------------------------------+--------+
| test-origin-redirect | tos1l3v1djOJMSQkh5d7 | 2021-08-27T13:14:15+05:30 | 2021-08-30T15:58:20+05:30 | http://test.com  | [{"type":"REDIRECT"}]                 | ACTIVE |
| Test CORS            | tos1m59anpeSM4if95d7 | 2021-08-30T15:58:43+05:30 | 2021-09-01T12:39:45+05:30 | http://test2.com | [{"type":"CORS"},{"type":"REDIRECT"}] | ACTIVE |
+----------------------+----------------------+---------------------------+---------------------------+------------------+---------------------------------------+--------+
> select
  name,
  id,
  created,
  last_updated,
  origin,
  scopes,
  status
from
  okta_trusted_origin
where
  last_updated < current_timestamp - interval '30 days';
+----------------------+----------------------+---------------------------+---------------------------+------------------+---------------------------------------+--------+
| name                 | id                   | created                   | last_updated              | origin           | scopes                                | status |
+----------------------+----------------------+---------------------------+---------------------------+------------------+---------------------------------------+--------+
| test-origin-redirect | tos1l3v1djOJMSQkh5d7 | 2021-08-27T13:14:15+05:30 | 2021-08-30T15:58:20+05:30 | http://test.com  | [{"type":"REDIRECT"}]                 | ACTIVE |
| Test CORS            | tos1m59anpeSM4if95d7 | 2021-08-30T15:58:43+05:30 | 2021-09-01T12:39:45+05:30 | http://test2.com | [{"type":"CORS"},{"type":"REDIRECT"}] | ACTIVE |
+----------------------+----------------------+---------------------------+---------------------------+------------------+---------------------------------------+--------+
> select
  name,
  id,
  created,
  last_updated,
  origin,
  scopes,
  status
from
  okta_trusted_origin
where
  scopes @> '[{"type":"CORS"}]'::jsonb;
+-----------+----------------------+---------------------------+---------------------------+------------------+---------------------------------------+--------+
| name      | id                   | created                   | last_updated              | origin           | scopes                                | status |
+-----------+----------------------+---------------------------+---------------------------+------------------+---------------------------------------+--------+
| Test CORS | tos1m59anpeSM4if95d7 | 2021-08-30T15:58:43+05:30 | 2021-09-01T12:39:45+05:30 | http://test2.com | [{"type":"CORS"},{"type":"REDIRECT"}] | ACTIVE |
+-----------+----------------------+---------------------------+---------------------------+------------------+---------------------------------------+--------+

=====================================================================

okta_user_type
==============

> select * from okta_user_type
+------+----------------------+--------------+---------------------------+----------------------+---------+-------------------------------------------------------------+---------------------------+-------
| name | id                   | display_name | created                   | created_by           | default | description                                                 | last_updated              | last_u
+------+----------------------+--------------+---------------------------+----------------------+---------+-------------------------------------------------------------+---------------------------+-------
| user | oty1kchdmzPCOYQbD5d7 | User         | 2021-08-26T09:56:28+05:30 | spr1kchdma7UsxBXH5d7 | true    | Okta user profile template with default permission settings | 2021-08-26T09:56:28+05:30 | spr1kc
+------+----------------------+--------------+---------------------------+----------------------+---------+-------------------------------------------------------------+---------------------------+-------
> select * from okta_user_type where id = 'oty1kchdmzPCOYQbD5d7'
+------+----------------------+--------------+---------------------------+----------------------+---------+-------------------------------------------------------------+---------------------------+-------
| name | id                   | display_name | created                   | created_by           | default | description                                                 | last_updated              | last_u
+------+----------------------+--------------+---------------------------+----------------------+---------+-------------------------------------------------------------+---------------------------+-------
| user | oty1kchdmzPCOYQbD5d7 | User         | 2021-08-26T09:56:28+05:30 | spr1kchdma7UsxBXH5d7 | true    | Okta user profile template with default permission settings | 2021-08-26T09:56:28+05:30 | spr1kc
+------+----------------------+--------------+---------------------------+----------------------+---------+-------------------------------------------------------------+---------------------------+-------
> select
  name,
  id,
  "default",
  description,
  created,
  created_by
from
  okta_user_type;
+------+----------------------+---------+-------------------------------------------------------------+---------------------------+----------------------+
| name | id                   | default | description                                                 | created                   | created_by           |
+------+----------------------+---------+-------------------------------------------------------------+---------------------------+----------------------+
| user | oty1kchdmzPCOYQbD5d7 | true    | Okta user profile template with default permission settings | 2021-08-26T09:56:28+05:30 | spr1kchdma7UsxBXH5d7 |
+------+----------------------+---------+-------------------------------------------------------------+---------------------------+----------------------+

=====================================================================

okta_user
=========

> select * from okta_user
+--------------------+----------------------+--------------------+---------------------------+--------+-----------+---------------------------+---------------------------+---------------------------+-----
| login              | id                   | email              | created                   | filter | activated | last_login                | last_updated              | password_changed          | self
+--------------------+----------------------+--------------------+---------------------------+--------+-----------+---------------------------+---------------------------+---------------------------+-----
| arnab@turbot.com   | 00u1kcigdvWtR96HY5d7 | arnab@turbot.com   | 2021-08-26T09:56:37+05:30 | <null> | <null>    | 2022-01-27T12:45:21+05:30 | 2021-08-27T15:33:50+05:30 | 2021-08-26T11:18:42+05:30 | http
| testUser@gmail.com | 00u3e9oo5e7hR6X815d7 | testUser@gmail.com | 2021-12-21T16:53:04+05:30 | <null> | <null>    | <null>                    | 2021-12-21T16:53:04+05:30 | <null>                    | http
| arnabg57@gmail.com | 00u33m8oarePFyaTm5d7 | arnabg57@gmail.com | 2021-12-10T16:19:06+05:30 | <null> | <null>    | <null>                    | 2021-12-10T16:19:06+05:30 | <null>                    | http
+--------------------+----------------------+--------------------+---------------------------+--------+-----------+---------------------------+---------------------------+---------------------------+-----
> select * from okta_user limit 1
+--------------------+----------------------+--------------------+---------------------------+--------+-----------+------------+---------------------------+------------------+-----------------------------
| login              | id                   | email              | created                   | filter | activated | last_login | last_updated              | password_changed | self_link                   
+--------------------+----------------------+--------------------+---------------------------+--------+-----------+------------+---------------------------+------------------+-----------------------------
| arnabg57@gmail.com | 00u33m8oarePFyaTm5d7 | arnabg57@gmail.com | 2021-12-10T16:19:06+05:30 | <null> | <null>    | <null>     | 2021-12-10T16:19:06+05:30 | <null>           | https://dev-21314997.okta.co
+--------------------+----------------------+--------------------+---------------------------+--------+-----------+------------+---------------------------+------------------+-----------------------------
> select * from okta_user where id = '00u33m8oarePFyaTm5d7'
+--------------------+----------------------+--------------------+---------------------------+--------+-----------+------------+---------------------------+------------------+-----------------------------
| login              | id                   | email              | created                   | filter | activated | last_login | last_updated              | password_changed | self_link                   
+--------------------+----------------------+--------------------+---------------------------+--------+-----------+------------+---------------------------+------------------+-----------------------------
| arnabg57@gmail.com | 00u33m8oarePFyaTm5d7 | arnabg57@gmail.com | 2021-12-10T16:19:06+05:30 | <null> | <null>    | <null>     | 2021-12-10T16:19:06+05:30 | <null>           | https://dev-21314997.okta.co
+--------------------+----------------------+--------------------+---------------------------+--------+-----------+------------+---------------------------+------------------+-----------------------------
> select
  email,
  id,
  login,
  created,
  status,
  type
from
  okta_user;
+--------------------+----------------------+--------------------+---------------------------+--------+-------------------------------+
| email              | id                   | login              | created                   | status | type                          |
+--------------------+----------------------+--------------------+---------------------------+--------+-------------------------------+
| arnabg57@gmail.com | 00u33m8oarePFyaTm5d7 | arnabg57@gmail.com | 2021-12-10T16:19:06+05:30 | STAGED | {"id":"oty1kchdmzPCOYQbD5d7"} |
| testUser@gmail.com | 00u3e9oo5e7hR6X815d7 | testUser@gmail.com | 2021-12-21T16:53:04+05:30 | STAGED | {"id":"oty1kchdmzPCOYQbD5d7"} |
| arnab@turbot.com   | 00u1kcigdvWtR96HY5d7 | arnab@turbot.com   | 2021-08-26T09:56:37+05:30 | ACTIVE | {"id":"oty1kchdmzPCOYQbD5d7"} |
+--------------------+----------------------+--------------------+---------------------------+--------+-------------------------------+
> select
  id,
  email,
  jsonb_pretty(profile) as profile,
  jsonb_pretty(user_groups) as user_groups,
  jsonb_pretty(assigned_roles) as assigned_roles
from
  okta_user;
+----------------------+--------------------+------------------------------------+---------------------------------------+----------------------------------------------------------------------------------
| id                   | email              | profile                            | user_groups                           | assigned_roles                                                                   
+----------------------+--------------------+------------------------------------+---------------------------------------+----------------------------------------------------------------------------------
| 00u33m8oarePFyaTm5d7 | arnabg57@gmail.com | {                                  | [                                     | [                                                                                
|                      |                    |     "email": "arnabg57@gmail.com", |     {                                 | ]                                                                                
|                      |                    |     "login": "arnabg57@gmail.com", |         "id": "00g1kchdmqwsZEGG65d7", |                                                                                  
|                      |                    |     "lastName": "Ghosh",           |         "name": "Everyone",           |                                                                                  
|                      |                    |     "firstName": "Soura",          |         "type": "BUILT_IN"            |                                                                                  
|                      |                    |     "mobilePhone": null,           |     },                                |                                                                                  
|                      |                    |     "secondEmail": null            |     {                                 |                                                                                  
|                      |                    | }                                  |         "id": "00g33kzj6xOZvlBUQ5d7", |                                                                                  
|                      |                    |                                    |         "name": "TestGroup",          |                                                                                  
|                      |                    |                                    |         "type": "OKTA_GROUP"          |                                                                                  
|                      |                    |                                    |     },                                |                                                                                  
|                      |                    |                                    |     {                                 |                                                                                  
|                      |                    |                                    |         "id": "00g3e9b6esCUiHSkK5d7", |                                                                                  
|                      |                    |                                    |         "name": "Another Group",      |                                                                                  
|                      |                    |                                    |         "type": "OKTA_GROUP"          |                                                                                  
|                      |                    |                                    |     }                                 |                                                                                  
|                      |                    |                                    | ]                                     |                                                                                  
| 00u3e9oo5e7hR6X815d7 | testUser@gmail.com | {                                  | [                                     | [                                                                                
|                      |                    |     "email": "testUser@gmail.com", |     {                                 | ]                                                                                
|                      |                    |     "login": "testUser@gmail.com", |         "id": "00g1kchdmqwsZEGG65d7", |                                                                                  
|                      |                    |     "lastName": "User",            |         "name": "Everyone",           |                                                                                  
|                      |                    |     "firstName": "Test",           |         "type": "BUILT_IN"            |                                                                                  
|                      |                    |     "mobilePhone": null,           |     }                                 |                                                                                  
|                      |                    |     "secondEmail": null            | ]                                     |                                                                                  
|                      |                    | }                                  |                                       |                                                                                  
| 00u1kcigdvWtR96HY5d7 | arnab@turbot.com   | {                                  | [                                     | [                                                                                
|                      |                    |     "email": "arnab@turbot.com",   |     {                                 |     {                                                                            
|                      |                    |     "login": "arnab@turbot.com",   |         "id": "00g1kchdmqwsZEGG65d7", |         "id": "ra11kcigdxWFCNSVn5d7",                                            
|                      |                    |     "lastName": "Ghosh",           |         "name": "Everyone",           |         "type": "SUPER_ADMIN",                                                   
|                      |                    |     "firstName": "Arnab",          |         "type": "BUILT_IN"            |         "label": "Super Organization Administrator",                             
|                      |                    |     "mobilePhone": null,           |     }                                 |         "_links": {                                                              
|                      |                    |     "secondEmail": null            | ]                                     |             "assignee": {                                                        
|                      |                    | }                                  |                                       |                 "href": "https://dev-21314997.okta.com/api/v1/users/00u1kcigdvWtR
|                      |                    |                                    |                                       |             }                                                                    
|                      |                    |                                    |                                       |         },                                                                       
|                      |                    |                                    |                                       |         "status": "ACTIVE",                                                      
|                      |                    |                                    |                                       |         "created": "2021-08-26T04:26:37Z",                                       
|                      |                    |                                    |                                       |         "lastUpdated": "2021-08-26T04:26:37Z",                                   
|                      |                    |                                    |                                       |         "assignmentType": "USER"                                                 
|                      |                    |                                    |                                       |     }                                                                            
|                      |                    |                                    |                                       | ]                                                                                
+----------------------+--------------------+------------------------------------+---------------------------------------+----------------------------------------------------------------------------------
> select
  id,
  login,
  jsonb_pretty(assigned_roles) as assigned_roles
from
  okta_user
where
  assigned_roles @> '[{"type":"SUPER_ADMIN"} ]'::jsonb;
+----------------------+------------------+-------------------------------------------------------------------------------------------+
| id                   | login            | assigned_roles                                                                            |
+----------------------+------------------+-------------------------------------------------------------------------------------------+
| 00u1kcigdvWtR96HY5d7 | arnab@turbot.com | [                                                                                         |
|                      |                  |     {                                                                                     |
|                      |                  |         "id": "ra11kcigdxWFCNSVn5d7",                                                     |
|                      |                  |         "type": "SUPER_ADMIN",                                                            |
|                      |                  |         "label": "Super Organization Administrator",                                      |
|                      |                  |         "_links": {                                                                       |
|                      |                  |             "assignee": {                                                                 |
|                      |                  |                 "href": "https://dev-21314997.okta.com/api/v1/users/00u1kcigdvWtR96HY5d7" |
|                      |                  |             }                                                                             |
|                      |                  |         },                                                                                |
|                      |                  |         "status": "ACTIVE",                                                               |
|                      |                  |         "created": "2021-08-26T04:26:37Z",                                                |
|                      |                  |         "lastUpdated": "2021-08-26T04:26:37Z",                                            |
|                      |                  |         "assignmentType": "USER"                                                          |
|                      |                  |     }                                                                                     |
|                      |                  | ]                                                                                         |
+----------------------+------------------+-------------------------------------------------------------------------------------------+
> select
  id,
  email,
  last_login
from
  okta_user
where
  last_login < current_timestamp - interval '30 days';
+----+-------+------------+
| id | email | last_login |
+----+-------+------------+
+----+-------+------------+
> select
  id,
  email,
  created,
  status
from
  okta_user
where
  filter = 'lastUpdated lt "2022-01-22T00:00:00.000Z" and status eq "ACTIVE"';
+----------------------+------------------+---------------------------+--------+
| id                   | email            | created                   | status |
+----------------------+------------------+---------------------------+--------+
| 00u1kcigdvWtR96HY5d7 | arnab@turbot.com | 2021-08-26T09:56:37+05:30 | ACTIVE |
+----------------------+------------------+---------------------------+--------+

=====================================================================